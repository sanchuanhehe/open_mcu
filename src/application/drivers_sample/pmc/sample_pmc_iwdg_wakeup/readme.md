# 配置PMC模块的IWDG唤醒功能，实现对深度睡眠芯片的唤醒
## 关键字: PMC，IWDG唤醒

**【功能描述】**
+ 示例代码基于HAL接口完成时钟、PMC控制器、IWDG模块初始化和功能配置。通过IWDG唤醒方式实现对深度睡眠芯片唤醒，唤醒后程序将重新执行。

**【示例配置】**

+ PMC初始化：调用接口"HAL_PMC_Init()”完成对示例代码中PMC的基地址、唤醒模式（IWDG唤醒）。

+ IWDG初始化：调用接口"HAL_IWDG_Init()"完成对示例代码中IWDG的定时周期等参数配置。

+ 操作PMC模块进行IWDG唤醒：在完成PMC初始化操作以后，调用"HAL_IWDG_Start()"启动IWDG计时，随后调用"HAL_PMC_EnterDeepSleepMode()"实现芯片进入深度睡眠模式；在经过设定的IWDG定时周期后，芯片会唤醒程序复位重新运行。

**【示例效果】**
+ 当用户烧录编译后的示例代码后，初始化和配置完成后，示例代码中在芯片进入深度睡眠后一段时间后被IWDG唤醒，唤醒后程序会重新执行。

**【注意事项】**
+ 使用IWDG唤醒功能必须配置info_rgn1.iwdg_deepsleep为0，否则IWDG在深睡眠模式下无法工作。
+ 示例代码使用UART0进行结果打印输出，需要对UART0配置。
+ 此示例init文件夹下的工程初始化配置是基于3066MNPINH芯片工程生成的。
+ 不通过IDE创建生成场景：初始化配置请参考sample下的init文件内容。
+ 通过IDE创建生成场景：初始化配置请参考user/generatecode下的文件内容。