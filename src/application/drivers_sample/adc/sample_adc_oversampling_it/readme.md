# 配置过采样精度，实现过采样功能，在中断中读取结果
## 关键字: ADC, 过采样配置，中断

**【功能描述】**
+ 示例代码基于HAL接口完成时钟、中断和ADC控制器初始化和功能配置。过采样示例中，ADC对同一条通道使用两个SOC来采样两次，使用软件触发ADC采样，触发采样后自行判断ADC转换完成后，再自行读取两个结果，此时结果为两倍过采样。

**【示例配置】**
+ ADC触发源：软件触发。使用接口"HAL_ADC_SoftTrigSample()”启动软件触发。

+ ADC采样源：挂载到SOC1部采样源。SOC可以配置为“ADC_SOC_NUM0~ADC_SOC_NUM15”中任意一个个。配置过采样的参数请见“HAL_ADC_ConfigureOversamplingEx()”接口。通过选择过采样倍数和结果右移比特数来共同决定过采样精度。

+ ADC采样结果：在过采样的中断中读出过采样的结果。过采样结果有单独的寄存器读取，需要使用“HAL_ADC_GetOversamplingResultEx()”进行读取。

**【示例效果】**
+ 当用户烧录编译后的示例代码后，初始化和配置完成，软件触发。过采样全过程结束后，会在过采样的中断回调函数中打印出过采样的结果。

**【注意事项】**
+ 示例代码使用UART0进行结果打印输出，需要对UART0进行初始化配置。
+ 此示例init文件夹下的工程初始化配置是基于3065HRPIRZ芯片工程生成的。
+ 不通过IDE创建生成场景：初始化配置请参考sample下的init文件内容；
+ 通过IDE创建生成场景：初始化配置请参考user/generatecode下的文件内容。